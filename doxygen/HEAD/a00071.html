<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>sot-core: sot::PoolStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="a00185.html">sot</a>::<a class="el" href="a00071.html">PoolStorage</a>
  </div>
</div>
<div class="contents">
<h1>sot::PoolStorage Class Reference<br/>
<small>
[<a class="el" href="a00189.html">Factory</a>]</small>
</h1><!-- doxytag: class="sot::PoolStorage" -->
<p>This class keep tracks of all the objects in the stack of Tasks.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;sot-core/pool.h&gt;</code></p>
<div class="dynheader">
Collaboration diagram for sot::PoolStorage:</div>
<div class="dynsection">
<div class="center"><img src="a00520.png" border="0" usemap="#sot_1_1_pool_storage_coll__map" alt="Collaboration graph"/></div>
<map name="sot_1_1_pool_storage_coll__map" id="sot_1_1_pool_storage_coll__map">
<area shape="rect" title="STL class." alt="" coords="240,179,325,205"/><area shape="rect" href="a00035.html" title="This class gives the abstract definition of a feature." alt="" coords="1947,181,2099,208"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00008.html" title="dynamicgraph::Entity" alt="" coords="1460,173,1615,200"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00030.html" title="dynamicgraph::SignalBase\&lt; int \&gt;" alt="" coords="464,179,701,205"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00030.html" title="dynamicgraph::SignalBase\&lt; Time \&gt;" alt="" coords="457,405,708,432"/><area shape="rect" title="STL class." alt="" coords="5,179,189,205"/><area shape="rect" href="a00092.html" title="sot::TaskAbstract" alt="" coords="1957,472,2088,499"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00034.html" title="dynamicgraph::SignalTimeDependent\&lt; ml::Matrix, int \&gt;" alt="" coords="1348,388,1727,415"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00027.html" title="dynamicgraph::Signal\&lt; T, Time \&gt;" alt="" coords="939,359,1173,385"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00033.html" title="dynamicgraph::SignalPtr\&lt; Flags, int \&gt;" alt="" coords="1405,277,1669,304"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00034.html" title="dynamicgraph::SignalTimeDependent\&lt; ml::Vector, int \&gt;" alt="" coords="1348,453,1727,480"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00034.html" title="dynamicgraph::SignalTimeDependent\&lt; unsigned int, int \&gt;" alt="" coords="1341,329,1733,356"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00033.html" title="dynamicgraph::SignalPtr\&lt; FeatureAbstract *, int \&gt;" alt="" coords="1365,225,1709,252"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00034.html" title="dynamicgraph::SignalTimeDependent\&lt; VectorMultiBound, int \&gt;" alt="" coords="1324,561,1751,588"/><area shape="rect" doxygen="dynamic-graph.doxytag:" href="a00035.html" title="dynamicgraph::TimeDependency\&lt; Time \&gt;" alt="" coords="911,496,1201,523"/><area shape="rect" href="a00061.html" title="sot::TaskAbstract::MemoryTaskAbstract" alt="" coords="1401,511,1673,537"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="a00521.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Define types to simplify the writing</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp07649f1a21241c5b37a8cad1b8638e30"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="a00092.html">TaskAbstract</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#a57f6558592d57bcda29545afd11ed255">Tasks</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sorted set of tasks with unique key (name).  <a href="#a57f6558592d57bcda29545afd11ed255"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="a00035.html">FeatureAbstract</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#ad48316f675957aec1ea6274f0389eb7a">Features</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sorted set of features with unique key (name).  <a href="#ad48316f675957aec1ea6274f0389eb7a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#afa658f7c105dfc373d7f1be7a95b3353">~PoolStorage</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default destructor.  <a href="#afa658f7c105dfc373d7f1be7a95b3353"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#a96ee98e47382571f0564c8c992ad27d5">commandLine</a> (const std::string &amp;objectName, const std::string &amp;functionName, std::istringstream &amp;cmdArg, std::ostream &amp;os)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method looks for the object named objectName, and ask to provide the function functionName with the arguments cmdArg. If the method of the object displays some information this will be done on os.  <a href="#a96ee98e47382571f0564c8c992ad27d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#acc2fb2c981af384a509e77242f03fa3f">writeGraph</a> (const std::string &amp;aFileName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This method write a graph description on the file named FileName.  <a href="#acc2fb2c981af384a509e77242f03fa3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#a32fb76f20f5176ae3673571fd80331a3">writeCompletionList</a> (std::ostream &amp;os)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods related to the handling of the features</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp727be7dc641f085fccf3bc0856b3b2b7"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#ac7343a0fffc08d43932e04e7b8dd1da4">registerFeature</a> (const std::string &amp;entname, <a class="el" href="a00035.html">FeatureAbstract</a> *ent)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registering a feature.  <a href="#ac7343a0fffc08d43932e04e7b8dd1da4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00035.html">FeatureAbstract</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#afd5770f0a70817884b6f112d3c9f1704">getFeature</a> (const std::string &amp;name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a reference to a feature.  <a href="#afd5770f0a70817884b6f112d3c9f1704"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods related to the handling of the tasks</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp1a15877d49591a1f4cf3ba325c580d27"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#abfcc51550734a1a9093ef2db85b6342a">registerTask</a> (const std::string &amp;entname, <a class="el" href="a00092.html">TaskAbstract</a> *ent)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registering a task.  <a href="#abfcc51550734a1a9093ef2db85b6342a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00092.html">TaskAbstract</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#a3eeb41b743a25d43175fb892383d3201">getTask</a> (const std::string &amp;name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a reference to a task.  <a href="#a3eeb41b743a25d43175fb892383d3201"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Fields of the class to manage the three entities.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp9e6fc873fe234f2f81ef328f12795ce1"></a> Also the name is singular, those are true sets. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00071.html#a57f6558592d57bcda29545afd11ed255">Tasks</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#adfe722287d81b74c752ee3f94f344a03">task</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set of controllers.  <a href="#adfe722287d81b74c752ee3f94f344a03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00071.html#ad48316f675957aec1ea6274f0389eb7a">Features</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00071.html#a63833100248a52ae041a54347257d496">feature</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set of features.  <a href="#a63833100248a52ae041a54347257d496"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class keep tracks of all the objects in the stack of Tasks. </p>
<p>Three kinds of objects are handled: </p>
<ul>
<li>The controllers, i.e. the tasks which inherits from <a class="el" href="a00092.html">TaskAbstract</a>. </li>
<li>The features, i.e. the information which inherits from <a class="el" href="a00035.html" title="This class gives the abstract definition of a feature.">FeatureAbstract</a>.</li>
</ul>
<ul>
<li>Any object which need to be inside the SoT and which inherits from Entity.</li>
</ul>
<p>This class provides the necessary operations to register, unregister each instance of thoses classes. As tasks and features derived from Entities, they should be registered as such.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>From the code it is not very clear why we should not unregister from the tasks and the features...</dd></dl>
<p>The role of this class is also to look for the object supporting a command, and to apply this command.</p>
<p>It also returns references to signals from their fully-qualified names. </p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ad48316f675957aec1ea6274f0389eb7a"></a><!-- doxytag: member="sot::PoolStorage::Features" ref="ad48316f675957aec1ea6274f0389eb7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt; std::string,<a class="el" href="a00035.html">FeatureAbstract</a>* &gt; <a class="el" href="a00071.html#ad48316f675957aec1ea6274f0389eb7a">sot::PoolStorage::Features</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sorted set of features with unique key (name). </p>

</div>
</div>
<a class="anchor" id="a57f6558592d57bcda29545afd11ed255"></a><!-- doxytag: member="sot::PoolStorage::Tasks" ref="a57f6558592d57bcda29545afd11ed255" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt; std::string,<a class="el" href="a00092.html">TaskAbstract</a>* &gt; <a class="el" href="a00071.html#a57f6558592d57bcda29545afd11ed255">sot::PoolStorage::Tasks</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sorted set of tasks with unique key (name). </p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="afa658f7c105dfc373d7f1be7a95b3353"></a><!-- doxytag: member="sot::PoolStorage::~PoolStorage" ref="afa658f7c105dfc373d7f1be7a95b3353" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sot::PoolStorage::~PoolStorage </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a96ee98e47382571f0564c8c992ad27d5"></a><!-- doxytag: member="sot::PoolStorage::commandLine" ref="a96ee98e47382571f0564c8c992ad27d5" args="(const std::string &amp;objectName, const std::string &amp;functionName, std::istringstream &amp;cmdArg, std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sot::PoolStorage::commandLine </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>objectName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::istringstream &amp;&nbsp;</td>
          <td class="paramname"> <em>cmdArg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method looks for the object named objectName, and ask to provide the function functionName with the arguments cmdArg. If the method of the object displays some information this will be done on os. </p>
<p>The commands specific to the <b>pool&lt;<b></b> &gt; object are: </p>
<ul>
<li><b>list</b> : List all the entities registered in the g_pool. </li>
<li><b>listFeature</b> : List all the features registered in the g_pool. </li>
<li><b>listTask</b> : List all the tasks registered in the g_pool. </li>
</ul>
<p></b></p>

</div>
</div>
<a class="anchor" id="afd5770f0a70817884b6f112d3c9f1704"></a><!-- doxytag: member="sot::PoolStorage::getFeature" ref="afd5770f0a70817884b6f112d3c9f1704" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00035.html">FeatureAbstract</a>&amp; sot::PoolStorage::getFeature </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a reference to a feature. </p>

</div>
</div>
<a class="anchor" id="a3eeb41b743a25d43175fb892383d3201"></a><!-- doxytag: member="sot::PoolStorage::getTask" ref="a3eeb41b743a25d43175fb892383d3201" args="(const std::string &amp;name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00092.html">TaskAbstract</a>&amp; sot::PoolStorage::getTask </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a reference to a task. </p>

</div>
</div>
<a class="anchor" id="ac7343a0fffc08d43932e04e7b8dd1da4"></a><!-- doxytag: member="sot::PoolStorage::registerFeature" ref="ac7343a0fffc08d43932e04e7b8dd1da4" args="(const std::string &amp;entname, FeatureAbstract *ent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sot::PoolStorage::registerFeature </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>entname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00035.html">FeatureAbstract</a> *&nbsp;</td>
          <td class="paramname"> <em>ent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registering a feature. </p>

</div>
</div>
<a class="anchor" id="abfcc51550734a1a9093ef2db85b6342a"></a><!-- doxytag: member="sot::PoolStorage::registerTask" ref="abfcc51550734a1a9093ef2db85b6342a" args="(const std::string &amp;entname, TaskAbstract *ent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sot::PoolStorage::registerTask </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>entname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00092.html">TaskAbstract</a> *&nbsp;</td>
          <td class="paramname"> <em>ent</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registering a task. </p>

</div>
</div>
<a class="anchor" id="a32fb76f20f5176ae3673571fd80331a3"></a><!-- doxytag: member="sot::PoolStorage::writeCompletionList" ref="a32fb76f20f5176ae3673571fd80331a3" args="(std::ostream &amp;os)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sot::PoolStorage::writeCompletionList </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&nbsp;</td>
          <td class="paramname"> <em>os</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acc2fb2c981af384a509e77242f03fa3f"></a><!-- doxytag: member="sot::PoolStorage::writeGraph" ref="acc2fb2c981af384a509e77242f03fa3f" args="(const std::string &amp;aFileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sot::PoolStorage::writeGraph </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>aFileName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method write a graph description on the file named FileName. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a63833100248a52ae041a54347257d496"></a><!-- doxytag: member="sot::PoolStorage::feature" ref="a63833100248a52ae041a54347257d496" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00071.html#ad48316f675957aec1ea6274f0389eb7a">Features</a> <a class="el" href="a00071.html#a63833100248a52ae041a54347257d496">sot::PoolStorage::feature</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set of features. </p>

</div>
</div>
<a class="anchor" id="adfe722287d81b74c752ee3f94f344a03"></a><!-- doxytag: member="sot::PoolStorage::task" ref="adfe722287d81b74c752ee3f94f344a03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00071.html#a57f6558592d57bcda29545afd11ed255">Tasks</a> <a class="el" href="a00071.html#adfe722287d81b74c752ee3f94f344a03">sot::PoolStorage::task</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set of controllers. </p>

</div>
</div>
</div>
</body>
</html>
